{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { getAllJobs } from '../services/jobService';\nimport { getAllTalents, getOneCompany, getOneTalent } from '../services/userService';\nimport { excludeLiked, filter } from '../Utils/filter';\nexport const useData = (userInfo, status) => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState([]);\n  const [likes, setLikes] = useState([]);\n  const [superlikes, setSuperlikes] = useState('');\n  const [finalData, setFinalData] = useState([]);\n  console.log('in usedata--', userInfo);\n\n  const getUserData = () => {\n    if (userInfo.userType === 'talent') {\n      getOneTalent(userInfo.userId).then(response => {\n        if (response.data) {\n          setSearch(response.data.techs);\n          setLikes(response.data.likes);\n          setSuperlikes(response.data.superLikes);\n        }\n      });\n    } else {\n      getOneCompany(userInfo.userId).then(response => {\n        if (response.data) {\n          setSearch(response.data.techs);\n          setLikes(response.data.likes);\n          setSuperlikes(response.data.superLikes);\n        }\n      });\n    }\n  };\n\n  const getData = () => {\n    if (userInfo.userType === 'talent') {\n      getAllJobs().then(response => {\n        if (response.data) {\n          setData(response.data);\n        }\n      });\n    } else {\n      getAllTalents().then(response => {\n        if (response.data) {\n          setData(response.data);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    getUserData();\n    const fData = filter(data, search);\n    const filtered = excludeLiked(fData, [...likes, ...superlikes]);\n    setFinalData(filtered); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userInfo, status]);\n  return [finalData];\n};\n\n_s(useData, \"+jHj/j6DHS2kxE+oqAF+CTFDdIg=\");","map":{"version":3,"sources":["/home/chiranjibi/Desktop/School/Telia_project/team1_FrontEnd-1/src/hooks/useData.js"],"names":["useState","useEffect","getAllJobs","getAllTalents","getOneCompany","getOneTalent","excludeLiked","filter","useData","userInfo","status","data","setData","search","setSearch","likes","setLikes","superlikes","setSuperlikes","finalData","setFinalData","console","log","getUserData","userType","userId","then","response","techs","superLikes","getData","fData","filtered"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { getAllJobs } from '../services/jobService';\nimport {\n  getAllTalents,\n  getOneCompany,\n  getOneTalent,\n} from '../services/userService';\nimport { excludeLiked, filter } from '../Utils/filter';\n\nexport const useData = (userInfo, status) => {\n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState([]);\n  const [likes, setLikes] = useState([]);\n  const [superlikes, setSuperlikes] = useState('');\n  const [finalData, setFinalData] = useState([]);\n\n  console.log('in usedata--', userInfo);\n  const getUserData = () => {\n    if (userInfo.userType === 'talent') {\n      getOneTalent(userInfo.userId).then((response) => {\n        if (response.data) {\n          setSearch(response.data.techs);\n          setLikes(response.data.likes);\n          setSuperlikes(response.data.superLikes);\n        }\n      });\n    } else {\n      getOneCompany(userInfo.userId).then((response) => {\n        if (response.data) {\n          setSearch(response.data.techs);\n          setLikes(response.data.likes);\n          setSuperlikes(response.data.superLikes);\n        }\n      });\n    }\n  };\n\n  const getData = () => {\n    if (userInfo.userType === 'talent') {\n      getAllJobs().then((response) => {\n        if (response.data) {\n          setData(response.data);\n        }\n      });\n    } else {\n      getAllTalents().then((response) => {\n        if (response.data) {\n          setData(response.data);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    getUserData();\n    const fData = filter(data, search);\n    const filtered = excludeLiked(fData, [...likes, ...superlikes]);\n    setFinalData(filtered);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userInfo, status]);\n\n  return [finalData];\n};\n"]},"metadata":{},"sourceType":"module"}