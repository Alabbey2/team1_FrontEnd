{"ast":null,"code":"var _jsxFileName = \"/home/chiranjibi/Desktop/School/Telia_project/team1_FrontEnd-1/src/pages/ProfileEditPage/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Select from 'react-select';\nimport Input from '../../Components/Input';\nimport InputSelect from '../../Components/InputSelect';\nimport Textarea from '../../Components/Textarea';\nimport ImageUpload from '../../Components/ImageUpload';\nimport Button from '../../Components/Button';\nimport { useForm } from '../../hooks/useForm';\nimport { useUser } from '../../hooks/useUser';\nimport { typeOptions, techOptions } from '../../Utils/selectOptions';\nimport { updateCompany, updateTalent } from '../../services/userService';\nimport profilePhoto from '../../Assets/proifle.jpeg';\nimport './ProfileEditPage.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileEditPage = ({\n  match\n}) => {\n  _s();\n\n  const history = useHistory();\n  const id = match.params.id;\n  const type = match.params.type;\n  const [error, setError] = useState('');\n  const [user] = useUser(id, type);\n  const [level, setLevel] = useState('');\n  const [photo, setPhoto] = useState(user.photo ? user.photo : '');\n  const [logo, setLogo] = useState(user.logo ? user.logo : '');\n  const [typeList, setTypeList] = useState([]);\n  const [techList, setTechList] = useState([]);\n  const [fields, setFields] = useForm({\n    firstName: '',\n    lastName: '',\n    companyName: '',\n    email: '',\n    phone: '',\n    location: '',\n    title: '',\n    github: '',\n    linkedin: '',\n    website: '',\n    about: ''\n  });\n  const {\n    firstName,\n    lastName,\n    companyName,\n    email,\n    phone,\n    location,\n    title,\n    github,\n    linkedin,\n    website,\n    about\n  } = fields;\n  const defaultTechs = user && user.techs && user.techs.map(item => {\n    return {\n      value: item,\n      label: item\n    };\n  });\n\n  const updateProfile = e => {\n    e.preventDefault();\n\n    if (type === 'talent') {\n      const updates = {\n        firstName,\n        lastName,\n        email,\n        phone,\n        location,\n        title,\n        github,\n        linkedin,\n        about,\n        level,\n        type: typeList,\n        techs: techList,\n        photo\n      };\n      updateTalent(id, updates).then(response => {\n        if (response.data.result) {\n          history.push(`/employeeProfile/${id}`);\n        }\n      }).catch(error => setError(error && error.response.data.Error));\n    } else {\n      const updates = {\n        name: companyName,\n        email,\n        location,\n        website,\n        about,\n        logo,\n        techs: techList\n      };\n      updateCompany(id, updates).then(response => {\n        if (response.data.result) {\n          history.push(`/companyProfile/${id}`);\n        }\n      }).catch(error => setError(error && error.response.data.Error));\n    }\n  };\n\n  const selectStyles = {\n    control: styles => ({ ...styles,\n      minHeight: '48px',\n      marginBottom: '10px',\n      marginTop: '10px'\n    })\n  };\n\n  const handleChangeType = options => {\n    const types = options.map(opt => opt.value);\n    setTypeList(types);\n  };\n\n  const handleChangeTech = options => {\n    const techs = options.map(opt => opt.value);\n    setTechList(techs);\n  };\n\n  return user && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-edit\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"profile-edit__heading\",\n      children: \"UPDATE YOUR PROFILE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this), type === 'talent' && /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"profile-edit__form\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: error ? 'profile-edit__error ' : 'profile-edit__error--hidden',\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"First Name\",\n        id: \"firstName\",\n        defaultValue: user.firstName,\n        handleInputChange: setFields,\n        label: \"First Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Last Name\",\n        id: \"lastName\",\n        defaultValue: user.lastName,\n        handleInputChange: setFields,\n        label: \"Last Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        placeholder: \"Email Address\",\n        id: \"email\",\n        defaultValue: user.email,\n        handleInputChange: setFields,\n        label: \"Email Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"phone\",\n        placeholder: \"Phone Number\",\n        id: \"phone\",\n        defaultValue: user.phone,\n        handleInputChange: setFields,\n        label: \"Phone Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"City, Country you live-in\",\n        id: \"location\",\n        defaultValue: user.location,\n        handleInputChange: setFields,\n        label: \"Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Title, e.g, Full-Stack developer\",\n        id: \"title\",\n        defaultValue: user.title,\n        handleInputChange: setFields,\n        label: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Your GitHub link\",\n        id: \"github\",\n        defaultValue: user.github,\n        handleInputChange: setFields,\n        label: \"Github\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Your LinkedIn link\",\n        id: \"linkedin\",\n        defaultValue: user.linkedin,\n        handleInputChange: setFields,\n        label: \"LinkedIn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        maxLength: 300,\n        placeholder: \"Describe yourself. Max.300 characters\",\n        id: \"about\",\n        defaultValue: user.about,\n        handleInputChange: setFields,\n        label: \"About\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputSelect, {\n        handleInputChange: e => setLevel(e.target.value),\n        placeholder: \"Select seniority\",\n        options: ['Junior', 'Mid-Senior', 'Senior', 'Internship'],\n        id: id,\n        label: \"Level\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"profile-edit__label\",\n        children: \"Job Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        placeholder: \"select job-type\",\n        onChange: handleChangeType,\n        styles: selectStyles,\n        isMulti: true,\n        name: \"type\",\n        options: typeOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"profile-edit__label\",\n        children: \"Tech Stack\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        defaultValue: defaultTechs,\n        placeholder: \"select techs\",\n        onChange: handleChangeTech,\n        styles: selectStyles,\n        isMulti: true,\n        name: \"tech\",\n        options: techOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-edit__image-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-edit__profile-wrapper\",\n          children: user.photo && /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"profile-edit__image\",\n            src: photo,\n            alt: \"profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ImageUpload, {\n          setImage: setPhoto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-edit__btn-div\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          modifier: \"light\",\n          text: \"Update\",\n          handleClick: updateProfile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }, this), type === 'company' && /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"profile-edit__form\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: error ? 'profile-edit__error ' : 'profile-edit__error--hidden',\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Company Name\",\n        id: \"companyName\",\n        defaultValue: user.name,\n        handleInputChange: setFields,\n        label: \"Company Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        placeholder: \"Email Address\",\n        id: \"email\",\n        defaultValue: user.email,\n        handleInputChange: setFields,\n        label: \"Email Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"City, Country you are located\",\n        id: \"location\",\n        defaultValue: user.location,\n        handleInputChange: setFields,\n        label: \"Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Company website\",\n        id: \"website\",\n        defaultValue: user.website,\n        handleInputChange: setFields,\n        label: \"Company Website\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        maxLength: 300,\n        placeholder: \"Company info Max.300 characters\",\n        id: \"about\",\n        defaultValue: user.about,\n        handleInputChange: setFields,\n        label: \"About Company\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"profile-edit__label\",\n        children: \"Tech Stack\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        defaultValue: defaultTechs,\n        placeholder: \"select techs\",\n        onChange: handleChangeTech,\n        styles: selectStyles,\n        isMulti: true,\n        name: \"tech\",\n        options: techOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-edit__image-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-edit__profile-wrapper\",\n          children: logo && /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"profile-edit__image\",\n            src: logo,\n            alt: \"profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ImageUpload, {\n          setImage: setLogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-edit__btn-div\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          modifier: \"light\",\n          text: \"Update\",\n          handleClick: updateProfile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 7\n  }, this);\n};\n\n_s(ProfileEditPage, \"vAiNPfzLR5NQ6BMdgBKDODRxZBg=\", false, function () {\n  return [useHistory, useUser, useForm];\n});\n\n_c = ProfileEditPage;\nexport default ProfileEditPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileEditPage\");","map":{"version":3,"sources":["/home/chiranjibi/Desktop/School/Telia_project/team1_FrontEnd-1/src/pages/ProfileEditPage/index.js"],"names":["React","useState","useHistory","Select","Input","InputSelect","Textarea","ImageUpload","Button","useForm","useUser","typeOptions","techOptions","updateCompany","updateTalent","profilePhoto","ProfileEditPage","match","history","id","params","type","error","setError","user","level","setLevel","photo","setPhoto","logo","setLogo","typeList","setTypeList","techList","setTechList","fields","setFields","firstName","lastName","companyName","email","phone","location","title","github","linkedin","website","about","defaultTechs","techs","map","item","value","label","updateProfile","e","preventDefault","updates","then","response","data","result","push","catch","Error","name","selectStyles","control","styles","minHeight","marginBottom","marginTop","handleChangeType","options","types","opt","handleChangeTech","target"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Select from 'react-select';\n\nimport Input from '../../Components/Input';\nimport InputSelect from '../../Components/InputSelect';\nimport Textarea from '../../Components/Textarea';\nimport ImageUpload from '../../Components/ImageUpload';\nimport Button from '../../Components/Button';\nimport { useForm } from '../../hooks/useForm';\nimport { useUser } from '../../hooks/useUser';\nimport { typeOptions, techOptions } from '../../Utils/selectOptions';\nimport { updateCompany, updateTalent } from '../../services/userService';\n\nimport profilePhoto from '../../Assets/proifle.jpeg';\n\nimport './ProfileEditPage.scss';\n\nconst ProfileEditPage = ({ match }) => {\n  const history = useHistory();\n  const id = match.params.id;\n  const type = match.params.type;\n  const [error, setError] = useState('');\n  const [user] = useUser(id, type);\n  const [level, setLevel] = useState('');\n  const [photo, setPhoto] = useState(user.photo ? user.photo : '');\n  const [logo, setLogo] = useState(user.logo ? user.logo : '');\n  const [typeList, setTypeList] = useState([]);\n  const [techList, setTechList] = useState([]);\n  const [fields, setFields] = useForm({\n    firstName: '',\n    lastName: '',\n    companyName: '',\n    email: '',\n    phone: '',\n    location: '',\n    title: '',\n    github: '',\n    linkedin: '',\n    website: '',\n    about: '',\n  });\n\n  const {\n    firstName,\n    lastName,\n    companyName,\n    email,\n    phone,\n    location,\n    title,\n    github,\n    linkedin,\n    website,\n    about,\n  } = fields;\n\n  const defaultTechs =\n    user &&\n    user.techs &&\n    user.techs.map((item) => {\n      return { value: item, label: item };\n    });\n\n  const updateProfile = (e) => {\n    e.preventDefault();\n    if (type === 'talent') {\n      const updates = {\n        firstName,\n        lastName,\n        email,\n        phone,\n        location,\n        title,\n        github,\n        linkedin,\n        about,\n        level,\n        type: typeList,\n        techs: techList,\n        photo,\n      };\n\n      updateTalent(id, updates)\n        .then((response) => {\n          if (response.data.result) {\n            history.push(`/employeeProfile/${id}`);\n          }\n        })\n        .catch((error) => setError(error && error.response.data.Error));\n    } else {\n      const updates = {\n        name: companyName,\n        email,\n        location,\n        website,\n        about,\n        logo,\n        techs: techList,\n      };\n      updateCompany(id, updates)\n        .then((response) => {\n          if (response.data.result) {\n            history.push(`/companyProfile/${id}`);\n          }\n        })\n        .catch((error) => setError(error && error.response.data.Error));\n    }\n  };\n\n  const selectStyles = {\n    control: (styles) => ({\n      ...styles,\n      minHeight: '48px',\n      marginBottom: '10px',\n      marginTop: '10px',\n    }),\n  };\n\n  const handleChangeType = (options) => {\n    const types = options.map((opt) => opt.value);\n    setTypeList(types);\n  };\n\n  const handleChangeTech = (options) => {\n    const techs = options.map((opt) => opt.value);\n    setTechList(techs);\n  };\n\n  return (\n    user && (\n      <div className=\"profile-edit\">\n        <h3 className=\"profile-edit__heading\">UPDATE YOUR PROFILE</h3>\n        {type === 'talent' && (\n          <form className=\"profile-edit__form\">\n            <p\n              className={\n                error ? 'profile-edit__error ' : 'profile-edit__error--hidden'\n              }\n            >\n              {error}\n            </p>\n            <Input\n              type=\"text\"\n              placeholder=\"First Name\"\n              id=\"firstName\"\n              defaultValue={user.firstName}\n              handleInputChange={setFields}\n              label=\"First Name\"\n            />\n            <Input\n              type=\"text\"\n              placeholder=\"Last Name\"\n              id=\"lastName\"\n              defaultValue={user.lastName}\n              handleInputChange={setFields}\n              label=\"Last Name\"\n            />\n            <Input\n              type=\"email\"\n              placeholder=\"Email Address\"\n              id=\"email\"\n              defaultValue={user.email}\n              handleInputChange={setFields}\n              label=\"Email Address\"\n            />\n            <Input\n              type=\"phone\"\n              placeholder=\"Phone Number\"\n              id=\"phone\"\n              defaultValue={user.phone}\n              handleInputChange={setFields}\n              label=\"Phone Number\"\n            />\n            <Input\n              type=\"text\"\n              placeholder=\"City, Country you live-in\"\n              id=\"location\"\n              defaultValue={user.location}\n              handleInputChange={setFields}\n              label=\"Location\"\n            />\n            <Input\n              type=\"text\"\n              placeholder=\"Title, e.g, Full-Stack developer\"\n              id=\"title\"\n              defaultValue={user.title}\n              handleInputChange={setFields}\n              label=\"Title\"\n            />\n            <Input\n              type=\"text\"\n              placeholder=\"Your GitHub link\"\n              id=\"github\"\n              defaultValue={user.github}\n              handleInputChange={setFields}\n              label=\"Github\"\n            />\n            <Input\n              type=\"text\"\n              placeholder=\"Your LinkedIn link\"\n              id=\"linkedin\"\n              defaultValue={user.linkedin}\n              handleInputChange={setFields}\n              label=\"LinkedIn\"\n            />\n            <Textarea\n              maxLength={300}\n              placeholder=\"Describe yourself. Max.300 characters\"\n              id=\"about\"\n              defaultValue={user.about}\n              handleInputChange={setFields}\n              label=\"About\"\n            />\n            <InputSelect\n              handleInputChange={(e) => setLevel(e.target.value)}\n              placeholder=\"Select seniority\"\n              options={['Junior', 'Mid-Senior', 'Senior', 'Internship']}\n              id={id}\n              label=\"Level\"\n            />\n            <p className=\"profile-edit__label\">Job Type</p>\n            <Select\n              placeholder=\"select job-type\"\n              onChange={handleChangeType}\n              styles={selectStyles}\n              isMulti\n              name=\"type\"\n              options={typeOptions}\n            />\n            <p className=\"profile-edit__label\">Tech Stack</p>\n            <Select\n              defaultValue={defaultTechs}\n              placeholder=\"select techs\"\n              onChange={handleChangeTech}\n              styles={selectStyles}\n              isMulti\n              name=\"tech\"\n              options={techOptions}\n            />\n            <div className=\"profile-edit__image-div\">\n              <div className=\"profile-edit__profile-wrapper\">\n                {user.photo && (\n                  <img\n                    className=\"profile-edit__image\"\n                    src={photo}\n                    alt=\"profile\"\n                  />\n                )}\n              </div>\n              <ImageUpload setImage={setPhoto} />\n            </div>\n\n            <div className=\"profile-edit__btn-div\">\n              <Button\n                modifier=\"light\"\n                text=\"Update\"\n                handleClick={updateProfile}\n              />\n            </div>\n          </form>\n        )}\n        {type === 'company' && (\n          <form className=\"profile-edit__form\">\n            <p\n              className={\n                error ? 'profile-edit__error ' : 'profile-edit__error--hidden'\n              }\n            >\n              {error}\n            </p>\n            <Input\n              type=\"text\"\n              placeholder=\"Company Name\"\n              id=\"companyName\"\n              defaultValue={user.name}\n              handleInputChange={setFields}\n              label=\"Company Name\"\n            />\n            <Input\n              type=\"email\"\n              placeholder=\"Email Address\"\n              id=\"email\"\n              defaultValue={user.email}\n              handleInputChange={setFields}\n              label=\"Email Address\"\n            />\n            <Input\n              type=\"text\"\n              placeholder=\"City, Country you are located\"\n              id=\"location\"\n              defaultValue={user.location}\n              handleInputChange={setFields}\n              label=\"Location\"\n            />\n            <Input\n              type=\"text\"\n              placeholder=\"Company website\"\n              id=\"website\"\n              defaultValue={user.website}\n              handleInputChange={setFields}\n              label=\"Company Website\"\n            />\n            <Textarea\n              maxLength={300}\n              placeholder=\"Company info Max.300 characters\"\n              id=\"about\"\n              defaultValue={user.about}\n              handleInputChange={setFields}\n              label=\"About Company\"\n            />\n            <p className=\"profile-edit__label\">Tech Stack</p>\n            <Select\n              defaultValue={defaultTechs}\n              placeholder=\"select techs\"\n              onChange={handleChangeTech}\n              styles={selectStyles}\n              isMulti\n              name=\"tech\"\n              options={techOptions}\n            />\n\n            <div className=\"profile-edit__image-div\">\n              <div className=\"profile-edit__profile-wrapper\">\n                {logo && (\n                  <img\n                    className=\"profile-edit__image\"\n                    src={logo}\n                    alt=\"profile\"\n                  />\n                )}\n              </div>\n              <ImageUpload setImage={setLogo} />\n            </div>\n            <div className=\"profile-edit__btn-div\">\n              <Button\n                modifier=\"light\"\n                text=\"Update\"\n                handleClick={updateProfile}\n              />\n            </div>\n          </form>\n        )}\n      </div>\n    )\n  );\n};\n\nexport default ProfileEditPage;\n"]},"metadata":{},"sourceType":"module"}