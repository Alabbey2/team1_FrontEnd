{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { getAllJobs } from '../services/jobService';\nimport { getAllTalents, getOneCompany, getOneTalent } from '../services/userService';\nimport { excludeLiked, filter } from '../Utils/filter';\nexport const useData = (userInfo, status) => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState([]);\n  const [likes, setLikes] = useState([]);\n  const [superlikes, setSuperlikes] = useState('');\n  const [finalData, setFinalData] = useState([]);\n\n  const getUserData = () => {\n    if (userInfo) {\n      if (userInfo.userType === 'talent') {\n        getOneTalent(userInfo.userId).then(response => {\n          if (response.data) {\n            setSearch(response.data.techs);\n            setLikes(response.data.likes);\n            setSuperlikes(response.data.superLikes);\n          }\n        });\n      } else {\n        getOneCompany(userInfo.userId).then(response => {\n          if (response.data) {\n            setSearch(response.data.techs);\n            setLikes(response.data.likes);\n            setSuperlikes(response.data.superLikes);\n          }\n        });\n      }\n    }\n  };\n\n  const getData = () => {\n    if (userInfo.userType === 'talent') {\n      getAllJobs().then(response => {\n        if (response.data) {\n          setData(response.data);\n        }\n      });\n    } else {\n      getAllTalents().then(response => {\n        if (response.data) {\n          setData(response.data);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    getUserData();\n    const fData = filter(data, search);\n    const filtered = excludeLiked(fData, [...likes, ...superlikes]);\n    setFinalData(filtered); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userInfo, status]);\n  return [finalData];\n};\n\n_s(useData, \"+jHj/j6DHS2kxE+oqAF+CTFDdIg=\");","map":{"version":3,"sources":["/home/chiranjibi/Desktop/School/Telia_project/team1_FrontEnd-1/src/hooks/useData.js"],"names":["useState","useEffect","getAllJobs","getAllTalents","getOneCompany","getOneTalent","excludeLiked","filter","useData","userInfo","status","data","setData","search","setSearch","likes","setLikes","superlikes","setSuperlikes","finalData","setFinalData","getUserData","userType","userId","then","response","techs","superLikes","getData","fData","filtered"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SACEC,aADF,EAEEC,aAFF,EAGEC,YAHF,QAIO,yBAJP;AAKA,SAASC,YAAT,EAAuBC,MAAvB,QAAqC,iBAArC;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,QAAD,EAAWC,MAAX,KAAsB;AAAA;;AAC3C,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACmB,SAAD,EAAYC,YAAZ,IAA4BpB,QAAQ,CAAC,EAAD,CAA1C;;AAEA,QAAMqB,WAAW,GAAG,MAAM;AACxB,QAAIZ,QAAJ,EAAc;AACZ,UAAIA,QAAQ,CAACa,QAAT,KAAsB,QAA1B,EAAoC;AAClCjB,QAAAA,YAAY,CAACI,QAAQ,CAACc,MAAV,CAAZ,CAA8BC,IAA9B,CAAoCC,QAAD,IAAc;AAC/C,cAAIA,QAAQ,CAACd,IAAb,EAAmB;AACjBG,YAAAA,SAAS,CAACW,QAAQ,CAACd,IAAT,CAAce,KAAf,CAAT;AACAV,YAAAA,QAAQ,CAACS,QAAQ,CAACd,IAAT,CAAcI,KAAf,CAAR;AACAG,YAAAA,aAAa,CAACO,QAAQ,CAACd,IAAT,CAAcgB,UAAf,CAAb;AACD;AACF,SAND;AAOD,OARD,MAQO;AACLvB,QAAAA,aAAa,CAACK,QAAQ,CAACc,MAAV,CAAb,CAA+BC,IAA/B,CAAqCC,QAAD,IAAc;AAChD,cAAIA,QAAQ,CAACd,IAAb,EAAmB;AACjBG,YAAAA,SAAS,CAACW,QAAQ,CAACd,IAAT,CAAce,KAAf,CAAT;AACAV,YAAAA,QAAQ,CAACS,QAAQ,CAACd,IAAT,CAAcI,KAAf,CAAR;AACAG,YAAAA,aAAa,CAACO,QAAQ,CAACd,IAAT,CAAcgB,UAAf,CAAb;AACD;AACF,SAND;AAOD;AACF;AACF,GApBD;;AAsBA,QAAMC,OAAO,GAAG,MAAM;AACpB,QAAInB,QAAQ,CAACa,QAAT,KAAsB,QAA1B,EAAoC;AAClCpB,MAAAA,UAAU,GAAGsB,IAAb,CAAmBC,QAAD,IAAc;AAC9B,YAAIA,QAAQ,CAACd,IAAb,EAAmB;AACjBC,UAAAA,OAAO,CAACa,QAAQ,CAACd,IAAV,CAAP;AACD;AACF,OAJD;AAKD,KAND,MAMO;AACLR,MAAAA,aAAa,GAAGqB,IAAhB,CAAsBC,QAAD,IAAc;AACjC,YAAIA,QAAQ,CAACd,IAAb,EAAmB;AACjBC,UAAAA,OAAO,CAACa,QAAQ,CAACd,IAAV,CAAP;AACD;AACF,OAJD;AAKD;AACF,GAdD;;AAgBAV,EAAAA,SAAS,CAAC,MAAM;AACd2B,IAAAA,OAAO;AACPP,IAAAA,WAAW;AACX,UAAMQ,KAAK,GAAGtB,MAAM,CAACI,IAAD,EAAOE,MAAP,CAApB;AACA,UAAMiB,QAAQ,GAAGxB,YAAY,CAACuB,KAAD,EAAQ,CAAC,GAAGd,KAAJ,EAAW,GAAGE,UAAd,CAAR,CAA7B;AACAG,IAAAA,YAAY,CAACU,QAAD,CAAZ,CALc,CAMd;AACD,GAPQ,EAON,CAACrB,QAAD,EAAWC,MAAX,CAPM,CAAT;AASA,SAAO,CAACS,SAAD,CAAP;AACD,CAvDM;;GAAMX,O","sourcesContent":["import { useState, useEffect } from 'react';\nimport { getAllJobs } from '../services/jobService';\nimport {\n  getAllTalents,\n  getOneCompany,\n  getOneTalent,\n} from '../services/userService';\nimport { excludeLiked, filter } from '../Utils/filter';\n\nexport const useData = (userInfo, status) => {\n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState([]);\n  const [likes, setLikes] = useState([]);\n  const [superlikes, setSuperlikes] = useState('');\n  const [finalData, setFinalData] = useState([]);\n\n  const getUserData = () => {\n    if (userInfo) {\n      if (userInfo.userType === 'talent') {\n        getOneTalent(userInfo.userId).then((response) => {\n          if (response.data) {\n            setSearch(response.data.techs);\n            setLikes(response.data.likes);\n            setSuperlikes(response.data.superLikes);\n          }\n        });\n      } else {\n        getOneCompany(userInfo.userId).then((response) => {\n          if (response.data) {\n            setSearch(response.data.techs);\n            setLikes(response.data.likes);\n            setSuperlikes(response.data.superLikes);\n          }\n        });\n      }\n    }\n  };\n\n  const getData = () => {\n    if (userInfo.userType === 'talent') {\n      getAllJobs().then((response) => {\n        if (response.data) {\n          setData(response.data);\n        }\n      });\n    } else {\n      getAllTalents().then((response) => {\n        if (response.data) {\n          setData(response.data);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    getData();\n    getUserData();\n    const fData = filter(data, search);\n    const filtered = excludeLiked(fData, [...likes, ...superlikes]);\n    setFinalData(filtered);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userInfo, status]);\n\n  return [finalData];\n};\n"]},"metadata":{},"sourceType":"module"}